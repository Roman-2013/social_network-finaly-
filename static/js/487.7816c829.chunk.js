"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[487],{1487:function(e,t,o){o.r(t),o.d(t,{ProfileAPIContainer:function(){return J},default:function(){return z}});var i=o(5671),s=o(3144),n=o(136),r=o(4104),a=o(1413),l=o(2791),u=o(2442),c=o(9439),d="ProfileInfo_description__BvNe2",p="ProfileInfo_blockPicture__n1WdY",f="ProfileInfo_contacts__payiG",h="ProfileInfo_error__f-Wbv",v=o(7520),j=o(704),m=o(5298),x=o(184),P=(0,j.Z)({form:"profile"})((function(e){var t=e.handleSubmit,o=e.profile,i=e.error;return(0,x.jsxs)("form",{onSubmit:t,children:[(0,x.jsx)("button",{onClick:function(){},children:"save"}),i&&(0,x.jsx)("div",{className:h,children:i}),(0,x.jsxs)("div",{children:["Full name:",(0,x.jsx)(v.SP,{name:"fullName",placeholder:"full Name",validate:[m.C],component:v.II})]}),(0,x.jsxs)("div",{children:["Looking for a job: ",(0,x.jsx)(v.SP,{name:"lookingForAJob",placeholder:null,validate:[],component:v.II,restProps:{type:"checkbox"}})]}),(0,x.jsxs)("div",{children:["Looking for a job description: ",(0,x.jsx)(v.SP,{name:"lookingForAJobDescription",placeholder:"Looking for a job description",validate:[m.C],component:v.II})]}),(0,x.jsxs)("div",{children:["About me : ",(0,x.jsx)(v.SP,{name:"aboutMe",placeholder:"About me",validate:[m.C],component:v.II})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"Contact"})," : ",o.contacts?Object.keys(o.contacts).map((function(e){return(0,x.jsxs)("div",{className:f,children:[e,":",(0,x.jsx)(v.SP,{name:"contacts."+e,placeholder:"-",validate:[],component:v.II})]},e)})):""]})]})})),g=function(e){var t=e.updateProfileStatusTC,o=e.status,i=e.isOwner,s=(0,l.useState)(!0),n=(0,c.Z)(s,2),r=n[0],a=n[1],u=(0,l.useState)(o),d=(0,c.Z)(u,2),p=d[0],f=d[1];(0,l.useEffect)((function(){f(o)}),[o]);return(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"Status:"})," ",r?(0,x.jsx)("span",{onDoubleClick:function(){i||a(!1)},children:p||"No status"}):(0,x.jsx)("input",{onChange:function(e){return function(e){f(e.currentTarget.value)}(e)},onBlur:function(){t(p),a(!0)},type:"text",value:p,autoFocus:!0})]})},b=function(e){var t=e.isOwner,o=e.onMainPhoto,i=e.updateProfileStatusTC,s=e.photos,n=e.profile,r=e.status,a=e.activateEditMode;return(0,x.jsxs)("div",{className:d,children:[t||(0,x.jsx)("div",{children:(0,x.jsx)("button",{onClick:function(){return a(!0)},children:"edit"})}),(0,x.jsx)("img",{alt:"image",src:s}),t||(0,x.jsx)("input",{onChange:function(e){return o(e.target.files?e.target.files[0]:"")},type:"file"}),(0,x.jsx)(g,{isOwner:t,updateProfileStatusTC:i,status:r}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"Name:"})," ",n.fullName]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"Looking for a job:"})," ",n.lookingForAJob?"yes":"no"]}),n.lookingForAJob&&(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"Looking for a job description:"})," ",n.lookingForAJobDescription?n.lookingForAJobDescription:"no content"]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"About me:"})," ",n.aboutMe?n.aboutMe:"no content"]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"Contact"})," : ",n.contacts?Object.keys(n.contacts).map((function(e){return(0,x.jsxs)("div",{className:f,children:[(0,x.jsx)("b",{children:e})," : ",n.contacts[e]||"-"]},e)})):""]}),(0,x.jsx)("div",{})]})},C=function(e){var t=e.saveProfile,o=e.profile,i=e.status,s=e.updateProfileStatusTC,n=e.isOwner,r=e.savePhotoTC,a=e.photos,u=(0,l.useState)(!1),d=(0,c.Z)(u,2),f=d[0],h=d[1];return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:p,children:(0,x.jsx)("img",{src:"https://sun9-65.userapi.com/impg/c857736/v857736321/1034e2/DywLDwd6CeA.jpg?size=807x325&quality=96&sign=2d19ba00a905cdbe81732042935997de&type=album",alt:"image"})}),f?(0,x.jsx)(P,{profile:o,initialValues:o,onSubmit:function(e){t(e).then((function(){h(!1)}))}}):(0,x.jsx)(b,{activateEditMode:function(e){h(e)},status:i,isOwner:n,onMainPhoto:function(e){r(e)},profile:o,photos:a,updateProfileStatusTC:s})]})},k="MyPosts_postsBlock__0ggbK",S="Post_item__OzShW",T=function(e){var t=e.likesCount,o=e.message;return(0,x.jsxs)("div",{className:S,children:[(0,x.jsx)("img",{src:"https://img.freepik.com/premium-photo/anime-male-avatar_950633-917.jpg",alt:""}),o,(0,x.jsx)("div",{children:"".concat(t," Like")})]})},_=o(6139),y=l.memo((function(e){var t=e.addPostAC,o=e.postData;return(0,x.jsxs)("div",{className:k,children:[(0,x.jsx)("h3",{children:"My post"}),(0,x.jsx)("div",{children:(0,x.jsx)(I,{onSubmit:function(e){t(e.profileText),e.profileText=""}})}),o.map((function(e){return(0,x.jsx)(T,{id:e.id,likesCount:e.likesCount,message:e.message},e.id)}))]})})),A=(0,m.D)(10),I=(0,j.Z)({form:"profileMessage"})((function(e){var t=e.handleSubmit;return(0,x.jsxs)("form",{onSubmit:t,children:[(0,x.jsx)(_.Z,{component:v.gx,name:"profileText",placeholder:"Enter your message",validate:[m.C,A]}),(0,x.jsx)("div",{children:(0,x.jsx)("button",{children:"Add post"})})]})})),F=o(364),w=(0,F.$j)((function(e){return{postData:e.ProfilePage.postData}}),{addPostAC:u.Pi})(y),N=o(7809),Z=function(e){var t=e.profile,o=e.saveProfile,i=e.status,s=e.updateProfileStatusTC,n=e.isOwner,r=e.savePhotoTC,a=e.photos;return(0,x.jsxs)("div",{children:[t?(0,x.jsx)(C,{saveProfile:o,photos:a,savePhotoTC:r,isOwner:n,updateProfileStatusTC:s,status:i,profile:t}):(0,x.jsx)(N.p,{}),(0,x.jsx)(w,{})]})},O=o(7689),D=o(2932),M=o(7781),L=o(5800);var J=function(e){(0,n.Z)(o,e);var t=(0,r.Z)(o);function o(){return(0,i.Z)(this,o),t.apply(this,arguments)}return(0,s.Z)(o,[{key:"refreshProfile",value:function(){var e,t=Number(null===(e=this.props.params)||void 0===e?void 0:e.id);t||(t=this.props.authorizedUserId),this.props.setProfileTC(t),this.props.getProfileStatusTC(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,o){var i,s;(null===(i=this.props.params)||void 0===i?void 0:i.id)!=(null===(s=e.params)||void 0===s?void 0:s.id)&&this.refreshProfile()}},{key:"render",value:function(){var e;return(0,x.jsx)("div",{children:(0,x.jsx)(Z,{saveProfile:this.props.saveProfileTC,photos:this.props.photo?this.props.photo:L,isOwner:!(null===(e=this.props.params)||void 0===e||!e.id),updateProfileStatusTC:this.props.updateProfileStatusTC,status:this.props.status,profile:this.props.profile,savePhotoTC:this.props.savePhotoTC})})}}]),o}(l.Component),z=(0,M.qC)((0,F.$j)((function(e){var t;return{profile:e.ProfilePage.profile,status:e.ProfilePage.status,authorizedUserId:e.Auth.id,isFetching:e.Auth.isFetching,photo:null===(t=e.ProfilePage.profile.photos)||void 0===t?void 0:t.large}}),{setProfileTC:u.hO,getProfileStatusTC:u.bs,updateProfileStatusTC:u.xr,savePhotoTC:u.Tw,saveProfileTC:u.Ms}),(function(e){return function(t){var o=(0,O.UO)();return(0,x.jsx)(e,(0,a.Z)((0,a.Z)({},t),{},{params:o}))}}),D.e)(J)},2932:function(e,t,o){o.d(t,{e:function(){return c}});var i=o(1413),s=o(5987),n=o(7689),r=(o(2791),o(364)),a=o(184),l=["isFetching"],u=function(e){return{isFetching:e.Auth.isFetching}};function c(e){return(0,r.$j)(u)((function(t){var o=t.isFetching,r=(0,s.Z)(t,l);return o?(0,a.jsx)(e,(0,i.Z)({},r)):(0,a.jsx)(n.Fg,{to:"/login"})}))}},5800:function(e,t,o){e.exports=o.p+"static/media/anime-male-avatar_950633-914.d5429f97ec06f2405eae.avif"}}]);
//# sourceMappingURL=487.7816c829.chunk.js.map