"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[682],{6682:function(t,e,s){s.r(e),s.d(e,{ProfileAPIContainer:function(){return I},default:function(){return M}});var i=s(5671),n=s(3144),r=s(136),o=s(4104),a=s(8683),u=s(2791),l=s(2442),c="ProfileInfo_description__BvNe2",d="ProfileInfo_blockPicture__n1WdY",f=s(5800),p=s(9439),h=s(184),m=function(t){var e=t.updateProfileStatusTC,s=t.status,i=(0,u.useState)(!0),n=(0,p.Z)(i,2),r=n[0],o=n[1],a=(0,u.useState)(s),l=(0,p.Z)(a,2),c=l[0],d=l[1];(0,u.useEffect)((function(){d(s)}),[s]);return r?(0,h.jsx)("div",{children:(0,h.jsx)("span",{onDoubleClick:function(){o(!1)},children:c||"No status"})}):(0,h.jsx)("div",{children:(0,h.jsx)("input",{onChange:function(t){return function(t){d(t.currentTarget.value)}(t)},onBlur:function(){e(c),o(!0)},type:"text",value:c,autoFocus:!0})})},x=function(t){var e=t.profile,s=t.status,i=t.updateProfileStatusTC;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:d,children:(0,h.jsx)("img",{src:"https://sun9-65.userapi.com/impg/c857736/v857736321/1034e2/DywLDwd6CeA.jpg?size=807x325&quality=96&sign=2d19ba00a905cdbe81732042935997de&type=album",alt:""})}),(0,h.jsxs)("div",{className:c,children:[(0,h.jsx)("div",{children:e.aboutMe}),(0,h.jsx)("div",{children:e.fullName}),(0,h.jsxs)("div",{children:[(0,h.jsx)("img",{alt:"image",src:null===e.photos.small?f:e.photos.small}),(0,h.jsx)(m,{updateProfileStatusTC:i,status:s})]})]})]})},v="MyPosts_postsBlock__0ggbK",j="Post_item__OzShW",g=function(t){var e=t.likesCount,s=t.message;return(0,h.jsxs)("div",{className:j,children:[(0,h.jsx)("img",{src:"https://img.freepik.com/premium-photo/anime-male-avatar_950633-917.jpg",alt:""}),s,(0,h.jsx)("div",{children:"".concat(e," Like")})]})},P=s(6139),C=s(704),S=s(5298),T=s(7520),_=u.memo((function(t){console.log("render myPost");var e=t.addPostAC,s=t.postData;return(0,h.jsxs)("div",{className:v,children:[(0,h.jsx)("h3",{children:"My post"}),(0,h.jsx)("div",{children:(0,h.jsx)(k,{onSubmit:function(t){e(t.profileText),t.profileText=""}})}),s.map((function(t){return(0,h.jsx)(g,{id:t.id,likesCount:t.likesCount,message:t.message},t.id)}))]})})),b=(0,S.D)(10),k=(0,C.Z)({form:"profileMessage"})((function(t){var e=t.handleSubmit;return(0,h.jsxs)("form",{onSubmit:e,children:[(0,h.jsx)(P.Z,{component:T.gx,name:"profileText",placeholder:"Enter your message",validate:[S.C,b]}),(0,h.jsx)("div",{children:(0,h.jsx)("button",{children:"Add post"})})]})})),y=s(364),Z=(0,y.$j)((function(t){return{postData:t.ProfilePage.postData}}),{addPostAC:l.Pi})(_),F=s(7809),A=function(t){var e=t.profile,s=t.status,i=t.updateProfileStatusTC;return(0,h.jsxs)("div",{children:[e?(0,h.jsx)(x,{updateProfileStatusTC:i,status:s,profile:e}):(0,h.jsx)(F.p,{}),(0,h.jsx)(Z,{})]})},D=s(7689),N=s(2932),w=s(7781);var I=function(t){(0,r.Z)(s,t);var e=(0,o.Z)(s);function s(){return(0,i.Z)(this,s),e.apply(this,arguments)}return(0,n.Z)(s,[{key:"componentDidMount",value:function(){var t,e;e=void 0===(null===(t=this.props.params)||void 0===t?void 0:t.id)?this.props.authorizedUserId:+this.props.params.id,this.props.setProfileTC(e),this.props.getProfileStatusTC(e)}},{key:"render",value:function(){return(0,h.jsx)("div",{children:(0,h.jsx)(A,{updateProfileStatusTC:this.props.updateProfileStatusTC,status:this.props.status,profile:this.props.profile})})}}]),s}(u.Component),M=(0,w.qC)((0,y.$j)((function(t){return{profile:t.ProfilePage.profile,status:t.ProfilePage.status,authorizedUserId:t.Auth.id,isFetching:t.Auth.isFetching}}),{setProfileTC:l.hO,getProfileStatusTC:l.bs,updateProfileStatusTC:l.xr}),(function(t){return function(e){var s=(0,D.UO)();return(0,h.jsx)(t,(0,a.Z)((0,a.Z)({},e),{},{params:s}))}}),N.e)(I)},2932:function(t,e,s){s.d(e,{e:function(){return c}});var i=s(8683),n=s(5987),r=s(7689),o=(s(2791),s(364)),a=s(184),u=["isFetching"],l=function(t){return{isFetching:t.Auth.isFetching}};function c(t){return(0,o.$j)(l)((function(e){var s=e.isFetching,o=(0,n.Z)(e,u);return s?(0,a.jsx)(t,(0,i.Z)({},o)):(0,a.jsx)(r.Fg,{to:"/login"})}))}},5800:function(t,e,s){t.exports=s.p+"static/media/anime-male-avatar_950633-914.d5429f97ec06f2405eae.avif"}}]);
//# sourceMappingURL=682.f4696853.chunk.js.map